#include "CppUnitTest.h"
#include "../RPCLibServer/RPCLibServer.h"


using namespace Microsoft::VisualStudio::CppUnitTestFramework;

namespace RPCLibServerTest
{		
	TEST_CLASS(UnitTest1)
	{
	public:
		
		TEST_METHOD(TestListen)
		{
			const pfnTriggerCallback trigger_callback = nullptr;
			const auto h_event = CreateEvent(nullptr, TRUE, FALSE, TEXT("TEST"));

			begin_listen_trigger(trigger_callback, h_event);

			Assert::AreEqual(
				0, 
				SetEvent(h_event)
			);

		}

	};
}