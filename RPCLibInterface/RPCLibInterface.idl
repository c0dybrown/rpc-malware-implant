/*
* This is not a useless ifdef, 
* IDL does not support certain datatypes
* We define them here
* but we do not want them to end up in the generated code
*/
cpp_quote("#ifdef DONOTDEFINE")
typedef char CHAR;
typedef unsigned short USHORT;
typedef unsigned long DWORD;
cpp_quote("#endif")

// IDL annotation,
[
	// if modifying the UUID, 
	// please change it everywhere (ctrl+h)
	uuid(6cc09da7-4fea-43b9-9609-16dd592267ff),
	version(1.0),

	// We will use implicit handles for this RPC server
	// If your client connects to many servers at once,
	// this must be changed to explicit
	implicit_handle(handle_t hBinding)
]
interface RPCLib
{
	typedef struct _TRIGGER_CONTEXT
	{
		CHAR szhost;         // host to call back 
		USHORT usPort;       // port to call back on 
		DWORD dwTriggerType; // callback or interactive session 
	}TRIGGER_CONTEXT, *PTRIGGER_CONTEXT;

	void Trigger(
		[in, string] const char * szKey,
		[in] PTRIGGER_CONTEXT pTriggerContext
	);
}
